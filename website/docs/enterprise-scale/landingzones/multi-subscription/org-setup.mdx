---
id: org-setup
sidebar_position: 1
---
import ReactPlayer from 'react-player'

# Setup the Contoso organization


## Organize your private repository

The first step is create a private repository in your current organization. It has to be a git repository.

The video bellow shows you how to setup a private Gihub repository you are going to use to store the configuration of yout platform landingzones.

<ReactPlayer playing controls url='https://youtu.be/1tbXXOM1s-o' />

### Clone the repository

Clone the private repository on your local machine

```shell
# Adjust the name of your organization
github.com % git clone git://github.com/<org>/contoso contoso && cd contoso
```

```shell
Cloning into 'contoso'...
remote: Enumerating objects: 429, done.
remote: Counting objects: 100% (429/429), done.
remote: Compressing objects: 100% (320/320), done.
remote: Total 429 (delta 110), reused 307 (delta 77), pack-reused 0
Receiving objects: 100% (429/429), 2.93 MiB | 1.52 MiB/s, done.
Resolving deltas: 100% (110/110), done.
```

```shell
# Open visual studio code from the contoso folder
contoso % code .
```

Trust the repository
![](vscode-trust-folder.png) 

### Visual Studio code

Visual Studio code should open your cloned repository and display the following structure.

![](vscode.png)

### Add remote development extension

Select the **Remote - Containers** extension and click Install.

![](extension-remote-containers.png)

### Re-open vscode in the dev container

Click on the green bottom left button
From the menu select the option

![](vscode-reopen-container.png)

Open a zsh terminal to get a better understanding of the folders and branch you are using.

![](vscode-open-zsh.png)

You should now see the following terminal. This terminal is where you will run all terminal commands described in this on-boarding tutorial.

![](vscode-zsh.png)

> **Note**: The CAF Terraform landingzones framework assumes the landingzones Terraform code is cloned in a repository called landingzones.
> > Do not change that name.

```zsh
➜  caf git:(starter) ✗ git clone https://github.com/Azure/caf-terraform-landingzones.git landingzones
```

```zsh
Cloning into 'landingzones'...
remote: Enumerating objects: 9067, done.
remote: Counting objects: 100% (393/393), done.
remote: Compressing objects: 100% (281/281), done.
remote: Total 9067 (delta 161), reused 295 (delta 108), pack-reused 8674
Receiving objects: 100% (9067/9067), 11.65 MiB | 6.83 MiB/s, done.
Resolving deltas: 100% (5792/5792), done.
Updating files: 100% (406/406), done.
```

```zsh
# Go to the landingzones folder
➜  caf git:(starter) ✗ cd landingzones 

# Note all folders are starting with /tf/caf in the devcontainers. 
➜  landingzones git:(master) ✗ pwd
/tf/caf/landingzones
➜  landingzones git:(master) ✗ 
```

### Switch the landingzone branch

The CAF Terraform landingzones are released on regular basis. In order to align the deployment instructions, you need to make sure the Terraform code is also using the correct branch or tag.

From the terminal execute
```zsh
➜  landingzones git:(master) git checkout 2112.int
Branch '2112.int' set up to track remote branch '2112.int' from 'origin'.
Switched to a new branch '2112.int'
➜  landingzones git:(2112.int) ✗ 
```

> **Note**: The branch name in parentheses has changed from **master** to **2112.int**

### Setup the orgs folder

The orgs folder must be created at the root of your private repository. It can host different configuration of your platform landingzones. 
For example, you can setup an engineering and production to represent two master configuration where you can first test the configuration and setting in the engineering platform landingzones and then when validated, move that configuration into the production. This is an approach using a mono-repo but some customers would prefer to have different config git repo to separete engineering from production. More on this topics 

### Copy the demo Contoso configuration

From the starter folder:
- Copy starter/orgs/contoso/multi-subscriptions/platform to orgs/contoso/platform

You can explore the content of this folder and get more details on the files and folders .
